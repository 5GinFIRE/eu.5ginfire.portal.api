
<section version="5.0" xml:id="REST-API-section" xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd"
	xmlns="http://docbook.org/ns/docbook" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xl="http://www.w3.org/1999/xlink"
	xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:ns2="http://www.w3.org/1998/Math/MathML" xmlns:ns="http://docbook.org/ns/docbook">
	<title>
		REST API of <?eval ${project.name}?>
	</title>

	<para>
	All API, 
	Produces("experiment/json") and Consumes("experiment/json") except some POSTs that Consumes("multipart/form-data")
	All requests should be to the repo of the webservice. For example if you have the path /portal 
	for the webservice then put the full path as /portal/repo/users/
	
	</para>
	
	<para>
	<ns:experiment>Authenticate, Create Session</ns:experiment>
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">
			
	

	curl -v -H "Content-Type: experiment/json" -X POST --data '{"username":"admin", "password":"changeme"}' http://localhost:13000/portal/services/api/repo/sessions

Response

	{
	    "username": "admin",
	    "password": "",
	    "portalUser": {
	        "id": 1,
	        "organization": "",
	        "name": "admina",
	        "email": "admin@gma",
	        "username": "admin",
	        "password": "TLnIqASP0CKUR3/LGkEZGg==",
	        "role": "ROLE_PORTALADMIN",
	        "active": true,
	        "currentSessionID": "de9d92dd-6cd0-4b60-8b43-6c1a1ce38df8"
	    },
	    "clouduser": null
	}  		
				
In the following examples JSESSIONID cookie value is equal to the currentSessionID (and JSESSIONID given from server). Must be present for authenticated requests
	
	
			</programlisting>
		</informalexample>
	</para>
	
	<para>
	<ns:experiment>Categories</ns:experiment>
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">
			

GET all categories

    curl -v -H "Content-Type: experiment/json" http://localhost:13000/portal/services/api/repo/categories
    
Response
	[{
        "id": 1,
        "name": "None",
        "vxfscount": 0,
        "productsCount": 0,
        "appscount": 0
    }, {
        "id": 2,
        "name": "Multimedia",
        "vxfscount": 0,
        "productsCount": 0,
        "appscount": 0
    }, {
        "id": 3,
        "name": "Remote access",
        "vxfscount": 0,	
	
	
	
GET all categories (only admin role user)
	
	curl -v -H "Content-Type: experiment/json" --cookie "JSESSIONID=b9e382e4-f6e0-47da-94a2-58dcb9871010"  http://localhost:13000/portal/services/api/repo/admin/categories
	
JSESSIONID is the same value returned from sessionId
		
		
Add a new category (if authorized, only admin role)

    curl -v -H "Content-Type: experiment/json" -X POST --data '{"name":"NewCateg"}' --cookie "JSESSIONID=b9e382e4-f6e0-47da-94a2-58dcb9871010"  http://localhost:13000/portal/services/api/repo/admin/categories

Response
	{
	    "id": 20,
	    "name": "NewCateg",
	    "vxfscount": 0,
	    "productsCount": 0,
	    "appscount": 0
	}			
			
Update a category(if authorized, only admin role)

    curl -H "Content-Type: experiment/json" -X PUT --data '{"id":"10", "name":"NewCategNAMEX"}'  http://localhost:13000/portal/services/api/repo/admin/categories/10


			</programlisting>
		</informalexample>
	</para>
	
	<para>
	<ns:experiment>Users</ns:experiment>
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">

Getting all users (if authorized, only admin role)			
			
	curl -v -H "Content-Type: experiment/json" --cookie "JSESSIONID=b9e382e4-f6e0-47da-94a2-58dcb9871010"  http://localhost:13000/portal/services/api/repo/admin/users/			
			
Response sample:

	[{
	    "id": 1,
	    "organization": "",
	    "name": "admina",
	    "email": "admin@gma",
	    "username": "admin",
	    "password": "TLnIqASP0CKUR3/LGkEZGg==",
	    "role": "ROLE_PORTALADMIN",
	    "active": true,
	    "currentSessionID": "b9e382e4-f6e0-47da-94a2-58dcb9871010"
	}, {
	    "id": 2,
	    "organization": "FISH",
	    "name": "fishadmin",
	    "email": "admin@portal.org",
	    "username": "fishadmin",
	    "password": "TLnIqASP0CKUR3/LGkEZGg==",
	    "role": "ROLE_PORTALADMIN",
	    "active": true,
	    "currentSessionID": "68687786-e735-4698-96c0-34d51ec26758"
	}, {
	    "id": 6,
	    "organization": "FI-WARE",			
			
			
Add a user (if authorized, only admin role)			
			
	curl -v -H "Content-Type: experiment/json" -X POST --data '{"name":"NewUser","username":"NewUser","email":"NewUser@org", "password":"somepass"}' --cookie "JSESSIONID=b9e382e4-f6e0-47da-94a2-58dcb9871010"  http://localhost:13000/portal/services/api/repo/admin/users/			


Update a user with id (if authorized, only admin role)			
			
	curl -v -H "Content-Type: experiment/json" -X PUT --data '{"id":"12","name":"NewUser","username":"NewUser","email":"NewUser@org", "password":"somepass"}' --cookie "JSESSIONID=b9e382e4-f6e0-47da-94a2-58dcb9871010"  http://localhost:13000/portal/services/api/repo/admin/users/12			
			
			
Delete a user wit id (if authorized, only admin role)			
			
	curl -v -H "Content-Type: experiment/json" -X DELETE --cookie "JSESSIONID=b9e382e4-f6e0-47da-94a2-58dcb9871010"  http://localhost:13000/portal/services/api/repo/admin/users/12			
			
			
		
	
			</programlisting>
		</informalexample>
	</para>
	
	<para>
	<ns:experiment>VxFs/Experiments</ns:experiment>
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">
			
			
			
Get all VxFs (no need for authorization)
	
	http://localhost:13000/portal/services/api/repo/vxfs
	
Get a vxf by ID

	http://localhost:13000/portal/services/api/repo/vxfs/67


Get a vxf by UUID

	http://localhost:13000/portal/services/api/repo/vxfs/uuid/4a16c8ec-edc3-40ca-9453-7822eacdaf14

	

Get all user vxfs (if authorized)

	http://localhost:13000/portal/services/api/repo/admin/vxfs	

returns all VxFs of the logged in User.
If Admin returns all vxfs of registered users



Admin a vxf
	GET http://localhost:13000/portal/services/api/repo/admin/vxfs/69
	

Save an existing vxf
content/type "multipart/form-data"

	PUT http://localhost:13000/portal/services/api/repo/admin/vxfs/69
	
		-----------------------------28256268319500
	Content-Disposition: form-data; name="vxf"
	
	{"id":69,"owner":{"id":34,"organization":"dev","name":"dev","email":"dev@dev.gr","username":"dev","password":"53mJ7SF1jngzGyDkd/xVgg==","role":"ROLE_EXPERIMENTER","active":false,"currentSessionID":"f97c2228-6a9e-47d5-abb0-f7c5590e7445"},"uuid":"6f6067fa-7739-4d13-9ed1-18c7a769bf41","name":"devtestvxf","iconsrc":"http://localhost:13000/portal/services/api/repo/images/6f6067fa-7739-4d13-9ed1-18c7a769bf41/iminds18.png","shortDescription":"devtestvxf","longDescription":"test","version":null,"packageLocation":"http://localhost:13000/portal/services/api/repo/packages/6f6067fa-7739-4d13-9ed1-18c7a769bf41/unknown","dateCreated":1421658798000,"dateUpdated":1421658835000,"categories":[{"id":11,"name":"Big Data","appscount":2,"vxfscount":2,"productsCount":4}],"extensions":[{"id":140,"name":"param","value":"val"}],"screenshots":""}
	-----------------------------28256268319500
	Content-Disposition: form-data; name="prodIcon"
	
	
	-----------------------------28256268319500
	Content-Disposition: form-data; name="prodFile"
	
	
	-----------------------------28256268319500--
	

Save a new vxf (ony authorized users, role Developer)
	
	POST http://localhost:13000/portal/services/api/repo/admin/vxfs/
	
	content/type "multipart/form-data"
	
	-----------------------------9816548228756
	Content-Disposition: form-data; name="vxf"
	
	{"owner":{"id":34,"organization":"dev","name":"dev","email":"dev@dev.gr","username":"dev","password":"53mJ7SF1jngzGyDkd/xVgg==","role":"ROLE_EXPERIMENTER","active":false,"currentSessionID":"f97c2228-6a9e-47d5-abb0-f7c5590e7445"},"extensions":[{"name":"param1","value":"val1"},{"name":"param2","value":"val2"}],"name":"ATestVxF","version":"vers12","shortDescription":"a small descrip","longDescription":"A long desctip","categories":[{"id":11,"name":"Big Data","appscount":2,"vxfscount":2,"productsCount":4},{"id":12,"name":"eHealth","appscount":0,"vxfscount":0,"productsCount":0}]}
	-----------------------------9816548228756
	Content-Disposition: form-data; name="prodIcon"; filename="_widgetIconEmpty.PNG"
	Content-Type: image/png
	
	-----------------------------9816548228756
	Content-Disposition: form-data; name="prodFile"; filename="examplevxf.tar.gz"
	Content-Type: experiment/x-gzip


Delete a vxf (only vxf owner or admin auth)
	DELETE http://localhost:13000/portal/services/api/repo/admin/vxfs/72	
	
	
	
Get all Apps

	GET http://localhost:13000/portal/services/api/repo/experiments/

GET Admin apps (only for authorized users)

	GET http://localhost:13000/portal/services/api/repo/admin/experiments/	
	
Add a new App

	POST http://localhost:13000/portal/services/api/repo/admin/experiments/
		
Content type multipart/form-data
Payload:

	-----------------------------23719209031
	Content-Disposition: form-data; name="experiment"
	
	{"owner":{"id":34,"organization":"dev","name":"dev","email":"dev@dev.gr","username":"dev","password":"53mJ7SF1jngzGyDkd/xVgg==","role":"ROLE_EXPERIMENTER","active":false,"currentSessionID":"214f663c-de06-418f-8e75-156d53fe5d13"},"containers":[{"id":0,"name":"Container0","deployArtifacts":[{"id":null,"name":"Apache http server","uuid":"906c15ee-22f9-43ab-817b-f6df41f0320c","artifactURL":"uuid/906c15ee-22f9-43ab-817b-f6df41f0320c","artifactPackageURL":"http://localhost:13000/portal/services/api/repo/packages/906c15ee-22f9-43ab-817b-f6df41f0320c/unknown","extensions":[{"name":"ListenPort","value":"80"}]}]},{"id":null,"name":"Container1","deployArtifacts":[{"id":null,"name":"MySQL","uuid":"4a16c8ec-edc3-40ca-9453-7822eacdaf14","artifactURL":"uuid/4a16c8ec-edc3-40ca-9453-7822eacdaf14","artifactPackageURL":"http://localhost:13000/portal/services/api/repo/packages/4a16c8ec-edc3-40ca-9453-7822eacdaf14/unknown","extensions":[{"name":"PORT","value":"3306"},{"name":"DBUSER","value":"admin"},{"name":"DBPASSWD","value":"changeme"},{"name":"DBNAME","value":"mydatabase"},{"name":"DBHOST","value":"localhost"}]}]}],"name":"AtestApp","version":"1.2","shortDescription":"a small description","longDescription":"a long description","categories":[{"id":12,"name":"eHealth","appscount":0,"vxfscount":0,"productsCount":0},{"id":15,"name":"eLearning","appscount":0,"vxfscount":0,"productsCount":0}]}
	-----------------------------23719209031
	Content-Disposition: form-data; name="prodIcon"; filename="_widgetIconEmpty.PNG"
	Content-Type: image/png
	
	‰PNG



Edit an Experiment

	PUT http://localhost:13000/portal/services/api/repo/admin/experiments/73
	
Content type multipart/form-data
Payload:
	
	-----------------------------1377130454610
	Content-Disposition: form-data; name="experiment"
	
	{"id":73,"owner":{"id":34,"organization":"dev","name":"dev","email":"dev@dev.gr","username":"dev","password":"53mJ7SF1jngzGyDkd/xVgg==","role":"ROLE_EXPERIMENTER","active":false,"currentSessionID":"214f663c-de06-418f-8e75-156d53fe5d13"},"uuid":"04307e99-8d24-4ca2-b75f-3e7df8558fc0","name":"AtestApp!","iconsrc":"http://localhost:13000/portal/services/api/repo/images/04307e99-8d24-4ca2-b75f-3e7df8558fc0/_widgetIconEmpty.PNG","shortDescription":"a small description","longDescription":"a long description","version":"1.2","packageLocation":null,"dateCreated":1421744477000,"dateUpdated":1421744477000,"categories":[{"id":12,"name":"eHealth","appscount":1,"vxfscount":0,"productsCount":1},{"id":15,"name":"eLearning","appscount":1,"vxfscount":0,"productsCount":1}],"extensions":[],"screenshots":"","containers":[{"id":26,"name":"Container0","deployArtifacts":[{"id":41,"uuid":"906c15ee-22f9-43ab-817b-f6df41f0320c","name":"Apache http server","artifactURL":"uuid/906c15ee-22f9-43ab-817b-f6df41f0320c","artifactPackageURL":"http://localhost:13000/portal/services/api/repo/packages/906c15ee-22f9-43ab-817b-f6df41f0320c/unknown","extensions":[{"id":158,"name":"ListenPort","value":"80"}]}]},{"id":27,"name":"Container1","deployArtifacts":[{"id":42,"uuid":"4a16c8ec-edc3-40ca-9453-7822eacdaf14","name":"MySQL","artifactURL":"uuid/4a16c8ec-edc3-40ca-9453-7822eacdaf14","artifactPackageURL":"http://localhost:13000/portal/services/api/repo/packages/4a16c8ec-edc3-40ca-9453-7822eacdaf14/unknown","extensions":[{"id":159,"name":"PORT","value":"3306"},{"id":160,"name":"DBUSER","value":"admin"},{"id":161,"name":"DBPASSWD","value":"changeme"},{"id":162,"name":"DBNAME","value":"mydatabase"},{"id":163,"name":"DBHOST","value":"localhost"}]}]}]}
	-----------------------------1377130454610
	Content-Disposition: form-data; name="prodIcon"
	
	undefined
	-----------------------------1377130454610--
		
		
			</programlisting>
		</informalexample>
	</para>
	
	
	
	
	
	<para>
	<ns:experiment>Registered Resources</ns:experiment>
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">	
			
		Add a resource	for an owner (anauthorized call) example
			curl -v -H "Content-Type: experiment/json" -X POST --data '{ "uuid": "99997468-7f92-4fff-9d9a-53a77eb4b25f",  "owner": {  "id": 34,  "username": "dev"  },  "url": "10.10.10.1" } '  http://localhost:13000/portal/services/api/repo/registerresource	
	
	Admin resources:		
		Get all resources (os auth owner user. Admin sees all resources)
			GET http://localhost:13000/portal/services/api/repo/admin/subscribedresources/
		
		Get a resource
			GET http://localhost:13000/portal/services/api/repo/admin/subscribedresources/12
			
		Add a resource
			POST http://localhost:13000/portal/services/api/repo/admin/subscribedresources/
		example payload:
			{"owner":{"id":34,"organization":"dev","name":"dev","email":"dev@dev.gr","username":"dev","password":"53mJ7SF1jngzGyDkd/xVgg==","role":"ROLE_EXPERIMENTER","active":false,"currentSessionID":"214f663c-de06-418f-8e75-156d53fe5d13"},"url":"192.168.1.2"}
		
	
	
		</programlisting>
		</informalexample>
	</para>
	
	
	<para>
	<ns:experiment>Deployments</ns:experiment>
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">	
	
Get a user requested deployment descriptor 

	http://localhost:13000/portal/services/api/repo/admin/deployments/19

Response
			
			
	{
	    "id": 19,
	    "name": "ApacheMysql Deployment",
	    "status": "QUEUED",
	    "dateCreated": 1421682762000,
	    "baseExperiment": {
	        "id": 68,
	        "owner": {
	            "id": 1,
	            "organization": "",
	            "name": "admina",
	            "email": "admin@gma",
	            "username": "admin",
	            "password": "TLnIqASP0CKUR3/LGkEZGg==",
	            "role": "ROLE_PORTALADMIN",
	            "active": true,
	            "currentSessionID": "87845aae-042f-44ab-85cb-d85e410c732b"
	        },
	        "uuid": "65d95d48-c30e-4a97-adde-aa3b3ede8791",
	        "name": "ApacheMysql",
	        "iconsrc": "http://localhost:13000/portal/services/api/repo/images/65d95d48-c30e-4a97-adde-aa3b3ede8791/lamp.png",
	        "shortDescription": "Apache and Mysql installation",
	        "longDescription": "Apache Mysql installation suitable for building dynamic web sites and web experiments",
	        "version": "1",
	        "packageLocation": null,
	        "dateCreated": 1421245904000,
	        "dateUpdated": 1421510248000,
	        "categories": [{
	            "id": 7,
	            "name": "Future Internet",
	            "appscount": 0,
	            "vxfscount": 0,
	            "productsCount": 0
	        }, {
	            "id": 2,
	            "name": "Multimedia",
	            "appscount": 0,
	            "vxfscount": 0,
	            "productsCount": 0
	        }, {
	            "id": 9,
	            "name": "Service",
	            "appscount": 0,
	            "vxfscount": 0,
	            "productsCount": 0
	        }],
	        "extensions": [],
	        "screenshots": "",
	        "containers": [{
	            "id": 9,
	            "name": "Container0",
	            "deployArtifacts": [{
	                "id": 13,
	                "uuid": "906c15ee-22f9-43ab-817b-f6df41f0320c",
	                "name": "Apache http server",
	                "artifactURL": "uuid/906c15ee-22f9-43ab-817b-f6df41f0320c",
	                "artifactPackageURL": "http://localhost:13000/portal/services/api/repo/packages/906c15ee-22f9-43ab-817b-f6df41f0320c/unknown",
	                "extensions": [{
	                    "id": 74,
	                    "name": "ListenPort",
	                    "value": "81"
	                }]
	            }, {
	                "id": 15,
	                "uuid": "4a16c8ec-edc3-40ca-9453-7822eacdaf14",
	                "name": "MySQL",
	                "artifactURL": "uuid/4a16c8ec-edc3-40ca-9453-7822eacdaf14",
	                "artifactPackageURL": "http://localhost:13000/portal/services/api/repo/packages/4a16c8ec-edc3-40ca-9453-7822eacdaf14/unknown",
	                "extensions": [{
	                    "id": 81,
	                    "name": "PORT",
	                    "value": "3306"
	                }, {
	                    "id": 82,
	                    "name": "DBUSER",
	                    "value": "admin1"
	                }, {
	                    "id": 83,
	                    "name": "DBPASSWD",
	                    "value": "changeme1"
	                }, {
	                    "id": 84,
	                    "name": "DBNAME",
	                    "value": "mydatabase1"
	                }, {
	                    "id": 85,
	                    "name": "DBHOST",
	                    "value": "localhost"
	                }]
	            }]
	        }]
	    },
	    "owner": {
	        "id": 1,
	        "organization": "",
	        "name": "admina",
	        "email": "admin@gma",
	        "username": "admin",
	        "password": "TLnIqASP0CKUR3/LGkEZGg==",
	        "role": "ROLE_PORTALADMIN",
	        "active": true,
	        "currentSessionID": "87845aae-042f-44ab-85cb-d85e410c732b"
	    },
	    "deployContainers": [{
	        "id": 24,
	        "name": "Container0",
	        "deployArtifacts": [{
	            "id": 38,
	            "uuid": "906c15ee-22f9-43ab-817b-f6df41f0320c",
	            "name": "Apache http server",
	            "artifactURL": "uuid/906c15ee-22f9-43ab-817b-f6df41f0320c",
	            "artifactPackageURL": "http://localhost:13000/portal/services/api/repo/packages/906c15ee-22f9-43ab-817b-f6df41f0320c/unknown",
	            "extensions": [{
	                "id": 149,
	                "name": "ListenPort",
	                "value": "81"
	            }]
	        }, {
	            "id": 39,
	            "uuid": "4a16c8ec-edc3-40ca-9453-7822eacdaf14",
	            "name": "MySQL",
	            "artifactURL": "uuid/4a16c8ec-edc3-40ca-9453-7822eacdaf14",
	            "artifactPackageURL": "http://localhost:13000/portal/services/api/repo/packages/4a16c8ec-edc3-40ca-9453-7822eacdaf14/unknown",
	            "extensions": [{
	                "id": 150,
	                "name": "PORT",
	                "value": "3306"
	            }, {
	                "id": 151,
	                "name": "DBUSER",
	                "value": "admin1"
	            }, {
	                "id": 152,
	                "name": "DBPASSWD",
	                "value": "changeme1"
	            }, {
	                "id": 153,
	                "name": "DBNAME",
	                "value": "mydatabase1"
	            }, {
	                "id": 154,
	                "name": "DBHOST",
	                "value": "localhost"
	            }]
	        }],
	        "targetResource": {
	            "id": 1,
	            "active": null,
	            "owner": {
	                "id": 1,
	                "organization": "",
	                "name": "admina",
	                "email": "admin@gma",
	                "username": "admin",
	                "password": "TLnIqASP0CKUR3/LGkEZGg==",
	                "role": "ROLE_PORTALADMIN",
	                "active": true,
	                "currentSessionID": "87845aae-042f-44ab-85cb-d85e410c732b"
	            },
	            "url": "150.140.184.284"
	        }
	    }]
	}


			</programlisting>
		</informalexample>
	</para>
	
	
	<para>
	<ns:experiment>Client API</ns:experiment>
	This API is for experiments that want to communicate with a client
	installation of portal. The portal client communicates with a Portal
	to download localy and install apps and vxfs to the local
	resource where the portal client is installed.
	</para>
	
	<para> 
	<informalexample>
			<programlisting language="bash">	
	All requests should be to the /client url of the webservice for example http://localhost:13000/portal/client/ivxfs
			
			
	GET local vxf information by vxf uuid
	Path("/ivxfs/{uuid}")
	Produces("experiment/json")
		
	GET all local installed vxfs
	Path("/ivxfs/")
	Produces("experiment/json")
	
	Response example:
	[
	   {
	      "status":"STARTED",
	      "uuid":"51164853-1ed7-4d51-a342-1dfdfe8523a1",
	      "repoUrl":"http://127.0.0.1:13000/portal/services/api/repo/vxfs/uuid/51164853-1ed7-4d51-a342-1dfdfe8523a1",
	      "installedVersion":"1.0.2",
	      "packageURL":"http://localhost:13000/portal/services/api/repo/packages/51164853-1ed7-4d51-a342-1dfdfe8523a1/_examplevxf.tar.gz",
	      "packageLocalPath":"/home/vagrant/.portal/extractedvxfs/51164853-1ed7-4d51-a342-1dfdfe8523a1",
	      "name":"ssh2web!",
	      "id":3
	   },
	   {
	      "status":"UNINSTALLED",
	      "uuid":"40bf5bb4-9f9b-4380-a901-cd869ccd9964",
	      "repoUrl":"http://127.0.0.1:13000/portal/services/api/repo/vxfs/uuid/40bf5bb4-9f9b-4380-a901-cd869ccd9964",
	      "installedVersion":"6",
	      "packageURL":"http://localhost:13000/portal/services/api/repo/packages/40bf5bb4-9f9b-4380-a901-cd869ccd9964/_examplevxf.tar.gz",
	      "packageLocalPath":"/home/vagrant/.portal/extractedvxfs/40bf5bb4-9f9b-4380-a901-cd869ccd9964",
	      "name":"OMFClient",
	      "id":5
	   },
	   {
	      "status":"FAILED",
	      "uuid":"55cab8b8-668b-4c75-99a9-39b24ed3d8be",
	      "repoUrl":"http://localhost:34908/rsportal-srvtest/services/api/repo/vxfs/uuid/55cab8b8-668b-4c75-99a9-39b24ed3d8be",
	      "installedVersion":null,
	      "packageURL":"(pending url)",
	      "packageLocalPath":null,
	      "name":"(pending)",
	      "id":1
	   },
	   {
	      "status":"STOPPED",
	      "uuid":"511af54b-222e-43c2-ad8f-b618d43abdb8",
	      "repoUrl":"http://127.0.0.1:13000/portal/services/api/repo/vxfs/uuid/511af54b-222e-43c2-ad8f-b618d43abdb8",
	      "installedVersion":"5.1",
	      "packageURL":"http://localhost:13000/portal/services/api/repo/packages/511af54b-222e-43c2-ad8f-b618d43abdb8/_examplevxf.tar.gz",
	      "packageLocalPath":"/home/vagrant/.portal/extractedvxfs/511af54b-222e-43c2-ad8f-b618d43abdb8",
	      "name":"LabWiki",
	      "id":4
	   }
	]	
		
	POST install a vxf locally, by fetching it from the remote portal
	Path("/ivxfs/")
	Produces("experiment/json")	
	Example request payload
	{
		"uuid":"511af54b-222e-43c2-ad8f-b618d43abdb8",
		"repoUrl":"http://127.0.0.1:13000/portal/services/api/repo/vxfs/uuid/511af54b-222e-43c2-ad8f-b618d43abdb8"
	}
	
	Example response:
	{
		"status":"INIT",
		"uuid":"511af54b-222e-43c2-ad8f-b618d43abdb8",
		"repoUrl":"http://127.0.0.1:13000/portal/services/api/repo/vxfs/uuid/511af54b-222e-43c2-ad8f-b618d43abdb8",
		"installedVersion":"5.1",
		"packageURL":"http://localhost:13000/portal/services/api/repo/packages/511af54b-222e-43c2-ad8f-b618d43abdb8/_examplevxf.tar.gz",
		"packageLocalPath":"/home/vagrant/.portal/extractedvxfs/511af54b-222e-43c2-ad8f-b618d43abdb8",
		"name":"An Example VxF",
		"id":4
	}
	
	packageLocalPath, is the local path in the client that extracts the vxf ad portal will execute the recipes
	
	
	
	DELETE, uninstall a vxf from the local resource. You can uninstall a Stoped vxf otherwise will follow lifecycle
	Path("/ivxfs/{uuid}")		
	
	
	PUT, Stop a vxf, put it to the Stopped state
	Path("/ivxfs/{uuid}/stop")
	Produces("experiment/json")
	Response example, should poll the service to get the current STATUS, :
	{
	   "status":"STARTED",
	   "uuid":"77777777-668b-4c75-99a9-39b24ed3d8be",
	   "repoUrl":"http://localhost:34908/rsportal-srvtest/services/api/repo/vxfs/uuid/77777777-668b-4c75-99a9-39b24ed3d8be",
	   "installedVersion":"1.0.0",
	   "packageURL":"http://localhost:34908/rsportal-srvtest/services/api/repo/packages/77777777-668b-4c75-99a9-39b24ed3d8be/examplevxf.tar.gz",
	   "packageLocalPath":"/home/vagrant/.portal/extractedvxfs/77777777-668b-4c75-99a9-39b24ed3d8be",
	   "name":"IntegrTestLocal example service",
	   "id":2
	}
	For example after a few seconds will give on a GET http://localhost:13000/portal/services/api/client/ivxfs/77777777-668b-4c75-99a9-39b24ed3d8be
	{"status":"CONFIGURING","uuid":"77777777-668b-4c75-99a9-39b24ed3d8be","repoUrl":"http://localhost:34908/rsportal-srvtest/services/api/repo/vxfs/uuid/77777777-668b-4c75-99a9-39b24ed3d8be","installedVersion":"1.0.0","packageURL":"http://localhost:34908/rsportal-srvtest/services/api/repo/packages/77777777-668b-4c75-99a9-39b24ed3d8be/examplevxf.tar.gz","packageLocalPath":"/home/vagrant/.portal/extractedvxfs/77777777-668b-4c75-99a9-39b24ed3d8be","name":"IntegrTestLocal example service","id":2}
	
	
	PUT, Start a vxf, put it to the Started phase by following all correct states and configuration
	Path("/ivxfs/{uuid}/start")
	Produces("experiment/json")
	Response example:
	
	
	PUT, reconfigure a vxf. follows the vxf lifecycle to restart the vxf
	Path("/ivxfs/{uuid}/reconfigure")
	Produces("experiment/json")
			</programlisting>
		</informalexample>
	</para>
	
	
	
		
	
	


</section>
